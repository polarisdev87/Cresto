<div class="password-component">
  <div class="password-head">
    <h1>Password</h1>
  </div>
  <form *ngIf="!(isCurrentPasswordValid$ | async)">
    <div class="input-wrapper">
      <label [ngClass]="{touched:m.active}">Your password</label>
      <input class="form-password" type="password" appLable #m="lable" [formControl]="currentPassword">
    </div>
    <button class="btn emptyGreen" (click)="checkCurrentPassword(currentPassword.value)" [disabled]="currentPassword.invalid">
      Change
    </button>
  </form>
  <form *ngIf="isCurrentPasswordValid$ | async" [formGroup]="form" (submit)="editUserPassword(form.value)">
    <div class="input-wrapper">
      <label [ngClass]="{touched:a.active}">Your password</label>
      <input class="form-password" type="{{ !changeClassAndtype ? 'text': 'password'}}" appLable #a="lable" [value]="currentPassword.value" disabled>
      <span class="{{ !changeClassAndtype ? 'icon-eye-01': 'icon-eye_hide '}}" (click)="changeClassAndType()"></span>
    </div>
    <div class="input-wrapper">
      <label [ngClass]="{touched:b.active}">Enter new password</label>
      <input class="form-password" type="{{ !changeClassAndTypeenter ? 'text': 'password'}}" appLable #b="lable" formControlName="password">
      <span class="{{ !changeClassAndTypeenter ? 'icon-eye-01': 'icon-eye_hide '}}" (click)="changeClassAndTypeEnter()"></span>
    </div>
    <div class="input-wrapper">
      <label [ngClass]="{touched:c.active}">Confirm new password</label>
      <input class="form-password" type="{{ !changeClassAndTypecomfirm ? 'text': 'password'}}" appLable #c="lable" formControlName="confirmPassword">
      <span class="{{ !changeClassAndTypecomfirm ? 'icon-eye-01': 'icon-eye_hide '}}" (click)="changeClassAndTypeComfirm()"></span>
    </div>
    <span class="error-message" *ngIf="form.get('confirmPassword').touched && form.hasError('nomatch')">
      Password must match
    </span>
    <button class="btn emptyConfirm" [disabled]="form.invalid">
      Confirm
    </button>
  </form>
  <!-- TODO figure out design for error handling -->
  <!-- <div class="error-message">{{error$ | async}}</div> -->
</div>
